{"ast":null,"code":"export default {\n  name: 'Catalogue',\n\n  data() {\n    return {\n      lists: [{\n        target: \"basic\",\n        name: \"有哪些脑洞\"\n      }, {\n        target: \"synthesis\",\n        name: \"1.基础方案，阻止右键保存和拖拽\"\n      }, {\n        target: \"bazaar\",\n        name: \"2.失焦后加遮罩层\"\n      }, {\n        target: \"optimization\",\n        name: \"3.高速动态马赛克\"\n      }, {\n        target: \"preferences\",\n        name: \"正经需求vs方案\"\n      }]\n    };\n  },\n\n  f_lis(i, scroll = false) {\n    this.point = this.state + i * 50;\n\n    if (!scroll) {\n      this.scroll = false;\n      document.getElementsByClassName('anchor')[i].scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n        inline: 'start'\n      });\n      setTimeout(() => {\n        this.scroll = true;\n      }, 1000);\n    }\n  },\n\n  mounted() {\n    this.lists_arr = [];\n\n    for (let a = 0; a < this.lists.length; a++) {\n      this.lists_arr.push(this.$refs['list' + a].$el.getBoundingClientRect().height);\n    }\n\n    console.log(this.lists_arr);\n  },\n\n  watch: {\n    index(newVal, old) {\n      if (this.scroll) {\n        this.f_lis(newVal, true);\n      }\n    }\n\n  },\n  methods: {\n    getScroll(event) {\n      this.lists.forEach((item, index) => {\n        let top = this.$refs[item.target].getBoundingClientRect().top;\n\n        if (top < 0 && Math.abs(top) < this.lists_arr[index]) {\n          this.index = index;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsBA;EACAA,iBADA;;EAEAC;IACA;MAEAC,QACA;QACAC,eADA;QAEAH;MAFA,CADA,EAKA;QACAG,mBADA;QAEAH;MAFA,CALA,EASA;QACAG,gBADA;QAEAH;MAFA,CATA,EAaA;QACAG,sBADA;QAEAH;MAFA,CAbA,EAiBA;QACAG,qBADA;QAEAH;MAFA,CAjBA;IAFA;EAyBA,CA5BA;;EA6BAI;IACA;;IACA;MACA;MACAC;QAAAC;QAAAC;QAAAC;MAAA;MACAC;QACA;MACA,CAFA,EAEA,IAFA;IAGA;EACA,CAtCA;;EAwCAC,UACA;IACA;;IACA;MACA,oBACA,yDADA;IAGA;;IACAC;EACA,CAjDA;;EAmDAC;IACAC,mBACA;MACA;QACA;MACA;IACA;;EANA,CAnDA;EA2DAC;IACAC,iBACA;MACA;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA;;EATA;AA3DA","names":["name","data","lists","target","f_lis","document","behavior","block","inline","setTimeout","mounted","console","watch","index","methods","getScroll"],"sourceRoot":"src/components","sources":["Catalogue.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n      <div class=\"article_catelog\">\r\n                <div class=\"catelog_title\">\r\n                    目录\r\n                </div>\r\n                 <ul >\r\n                     <li class=\"litem\" >\r\n                        <div class=\"point\">\r\n                            <p :style=\"{top:point+'px'}\">\r\n                               <i></i>\r\n                            </p>\r\n                        </div>\r\n                     <a class=\"a-container\" v-for=\"(item,index) in lists\"  :key=\"index\"  :href=\"'#heading-'+index\" @click=\"f_lis(index)\"  >\r\n                          {{item.name}}\r\n                        </a>\r\n                       </li>\r\n                   </ul>\r\n           </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name:'Catalogue',\r\n  data(){\r\n    return {\r\n    \r\n      lists:[\r\n                       {\r\n                          target:\"basic\",\r\n                          name:\"有哪些脑洞\" \r\n                       },\r\n                       {\r\n                          target:\"synthesis\",\r\n                          name:\"1.基础方案，阻止右键保存和拖拽\" \r\n                       },\r\n                       {\r\n                          target:\"bazaar\",\r\n                          name:\"2.失焦后加遮罩层\" \r\n                       },\r\n                       {\r\n                          target:\"optimization\",\r\n                          name:\"3.高速动态马赛克\" \r\n                       },\r\n                       {\r\n                          target:\"preferences\",\r\n                          name:\"正经需求vs方案\" \r\n                       },\r\n                   ]\r\n    }\r\n  },\r\n   f_lis(i,scroll=false){\r\n                   this.point=this.state+i*50\r\n                   if(!scroll){\r\n                       this.scroll=false\r\n                       document.getElementsByClassName('anchor')[i].scrollIntoView({behavior:'smooth',block:'start',inline:'start'});\r\n                       setTimeout(()=>{\r\n                           this.scroll=true\r\n                       },1000)\r\n                   }\r\n               },\r\n       \r\n               mounted()\r\n               {\r\n               this.lists_arr=[]\r\n               for(let a=0;a<this.lists.length;a++){\r\n                   this.lists_arr.push(\r\n                       this.$refs['list'+a].$el.getBoundingClientRect().height\r\n                   )\r\n               }\r\n               console.log(this.lists_arr);\r\n           },\r\n       \r\n           watch:{\r\n               index(newVal,old)\r\n               {\r\n                   if(this.scroll){\r\n                       this.f_lis(newVal,true)\r\n                   }\r\n               }\r\n           },\r\n       methods:{\r\n            getScroll(event)\r\n            {\r\n                   this.lists.forEach((item,index) => {\r\n                       let top=this.$refs[item.target].getBoundingClientRect().top\r\n                       if(top<0 && Math.abs(top)<this.lists_arr[index]){\r\n                           this.index=index\r\n                       }\r\n                   })\r\n               }\r\n        \r\n       }\r\n  \r\n  \r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.nav1 {\r\n  display: block;\r\n  width: 120px;\r\n  height: 40px;\r\n  text-align: left;\r\n  line-height: 40px;\r\n  color: #fff;\r\n  /* background: #eee; */\r\n  margin: 10px 0;\r\n  cursor: pointer;\r\n  padding-left: 18px;\r\n  &:hover{\r\n    color: #0177ff;\r\n  }\r\n\r\n}\r\n.current {\r\n  color: #0578fc !important;\r\n  cursor: pointer;\r\n}\r\nnav{\r\n  // border-left: 1px solid #eee;\r\n  a{\r\n    border-left: 3px solid #0177ff;\r\n  }\r\n}\r\n\r\n</style>\r\n<style>\r\n.el-tabs__header.is-right{\r\n  margin-right: 100px !important;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}