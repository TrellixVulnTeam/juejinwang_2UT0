{"ast":null,"code":"export default {\n  name: 'Catalogue',\n\n  data() {\n    return {\n      lists: [{\n        target: \"basic\",\n        name: \"有哪些脑洞\"\n      }, {\n        target: \"synthesis\",\n        name: \"1.基础方案，阻止右键保存和拖拽\"\n      }, {\n        target: \"bazaar\",\n        name: \"2.失焦后加遮罩层\"\n      }, {\n        target: \"optimization\",\n        name: \"3.高速动态马赛克\"\n      }, {\n        target: \"preferences\",\n        name: \"正经需求vs方案\"\n      }]\n    };\n  },\n\n  f_lis(i, scroll = false) {\n    this.point = this.state + i * 50;\n\n    if (!scroll) {\n      this.scroll = false;\n      document.getElementsByClassName('anchor')[i].scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n        inline: 'start'\n      });\n      setTimeout(() => {\n        this.scroll = true;\n      }, 1000);\n    }\n  },\n\n  mounted() {\n    this.lists_arr = [];\n\n    for (let a = 0; a < this.lists.length; a++) {\n      this.lists_arr.push(this.$refs['list' + a].$el.getBoundingClientRect().height);\n    }\n\n    console.log(this.lists_arr);\n  },\n\n  watch: {\n    index(newVal, old) {\n      if (this.scroll) {\n        this.f_lis(newVal, true);\n      }\n    }\n\n  },\n  methods: {\n    getScroll(event) {\n      this.lists.forEach((item, index) => {\n        let top = this.$refs[item.target].getBoundingClientRect().top;\n\n        if (top < 0 && Math.abs(top) < this.lists_arr[index]) {\n          this.index = index;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwBA;EACAA,iBADA;;EAEAC;IACA;MAEAC,QACA;QACAC,eADA;QAEAH;MAFA,CADA,EAKA;QACAG,mBADA;QAEAH;MAFA,CALA,EASA;QACAG,gBADA;QAEAH;MAFA,CATA,EAaA;QACAG,sBADA;QAEAH;MAFA,CAbA,EAiBA;QACAG,qBADA;QAEAH;MAFA,CAjBA;IAFA;EAyBA,CA5BA;;EA6BAI;IACA;;IACA;MACA;MACAC;QAAAC;QAAAC;QAAAC;MAAA;MACAC;QACA;MACA,CAFA,EAEA,IAFA;IAGA;EACA,CAtCA;;EAwCAC,UACA;IACA;;IACA;MACA,oBACA,yDADA;IAGA;;IACAC;EACA,CAjDA;;EAmDAC;IACAC,mBACA;MACA;QACA;MACA;IACA;;EANA,CAnDA;EA2DAC;IACAC,iBACA;MACA;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA;;EATA;AA3DA","names":["name","data","lists","target","f_lis","document","behavior","block","inline","setTimeout","mounted","console","watch","index","methods","getScroll"],"sourceRoot":"src/components","sources":["Catalogue.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n      <div class=\"article_catelog\">\r\n                <div class=\"catelog_title\">\r\n                    目录\r\n                </div>\r\n                 <ul >\r\n                     <li class=\"litem\" >\r\n                        <!-- <div class=\"point\">\r\n                            <p :style=\"{top:point+'px'}\">\r\n                               <i></i>\r\n                            </p>\r\n                        </div> -->\r\n                        <div class=\"yihang\" v-for=\"(item,index) in lists\" :key=\"index\" @click=\"f_lis(index)\">\r\n                     <a class=\"a-container\"  :href=\"'#heading-'+index\"  :style=\"'margin-left:'+(4*item.level)+'px;'\">\r\n                          {{item.name}}\r\n                        </a>\r\n                        </div>\r\n                       </li>\r\n                   </ul>\r\n           </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name:'Catalogue',\r\n  data(){\r\n    return {\r\n    \r\n      lists:[\r\n                       {\r\n                          target:\"basic\",\r\n                          name:\"有哪些脑洞\" \r\n                       },\r\n                       {\r\n                          target:\"synthesis\",\r\n                          name:\"1.基础方案，阻止右键保存和拖拽\" \r\n                       },\r\n                       {\r\n                          target:\"bazaar\",\r\n                          name:\"2.失焦后加遮罩层\" \r\n                       },\r\n                       {\r\n                          target:\"optimization\",\r\n                          name:\"3.高速动态马赛克\" \r\n                       },\r\n                       {\r\n                          target:\"preferences\",\r\n                          name:\"正经需求vs方案\" \r\n                       },\r\n                   ]\r\n    }\r\n  },\r\n   f_lis(i,scroll=false){\r\n                   this.point=this.state+i*50\r\n                   if(!scroll){\r\n                       this.scroll=false\r\n                       document.getElementsByClassName('anchor')[i].scrollIntoView({behavior:'smooth',block:'start',inline:'start'});\r\n                       setTimeout(()=>{\r\n                           this.scroll=true\r\n                       },1000)\r\n                   }\r\n               },\r\n       \r\n               mounted()\r\n               {\r\n               this.lists_arr=[]\r\n               for(let a=0;a<this.lists.length;a++){\r\n                   this.lists_arr.push(\r\n                       this.$refs['list'+a].$el.getBoundingClientRect().height\r\n                   )\r\n               }\r\n               console.log(this.lists_arr);\r\n           },\r\n       \r\n           watch:{\r\n               index(newVal,old)\r\n               {\r\n                   if(this.scroll){\r\n                       this.f_lis(newVal,true)\r\n                   }\r\n               }\r\n           },\r\n       methods:{\r\n            getScroll(event)\r\n            {\r\n                   this.lists.forEach((item,index) => {\r\n                       let top=this.$refs[item.target].getBoundingClientRect().top\r\n                       if(top<0 && Math.abs(top)<this.lists_arr[index]){\r\n                           this.index=index\r\n                       }\r\n                   })\r\n               }\r\n        \r\n       }\r\n  \r\n  \r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// .container{\r\n//     position: sticky;\r\n//     // top:100px;\r\n// }\r\n.point{\r\n    display:inline;\r\n}\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.nav1 {\r\n  display: block;\r\n  width: 120px;\r\n  height: 40px;\r\n  text-align: left;\r\n  line-height: 40px;\r\n  color: #fff;\r\n  /* background: #eee; */\r\n  margin: 10px 0;\r\n  cursor: pointer;\r\n  padding-left: 18px;\r\n  &:hover{\r\n    color: #0177ff;\r\n  }\r\n\r\n}\r\n.current {\r\n  color: #0578fc !important;\r\n  cursor: pointer;\r\n}\r\nnav{\r\n  // border-left: 1px solid #eee;\r\n  a{\r\n    border-left: 3px solid #0177ff;\r\n  }\r\n}\r\n\r\n\r\n.aside{\r\n    width: 300px;\r\n    float: right;\r\n    position: relative;\r\n    top:-2500px;\r\n    \r\n\r\n}\r\n\r\n.article_catelog{\r\n    width: 300px;\r\n    height: 296.979px;\r\n    background-color: white;\r\n    border-radius: 4px;\r\n    margin-left: 8px;\r\n    position: static;\r\n   \r\n    \r\n}\r\n.litem{\r\n    display: inline-block;\r\n}\r\n\r\n.yihang{\r\n    width: 279px;\r\n    height: 44px;\r\n    margin-left: 11px;\r\n\r\n}\r\n.a-container{\r\n    display: inline-block;\r\n    padding: 8px;\r\n    width: 251.094px;\r\n    height: 22px;\r\n    // padding-left: 26px;\r\n    color: black;\r\n    font-size: 14.004px;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n    position: relative;\r\n   \r\n    overflow: hidden;\r\n\r\n}\r\n.a-container:hover{\r\n    background-color: #f4f5f5;\r\n}\r\n\r\n\r\n.catalog-aTag{\r\n    display: inline-block;\r\n    color:rgb(51,51,51);\r\n    width: 243px;\r\n    height: 22px;\r\n    padding: 8px;\r\n    font-size: 14.004px;\r\n    line-height: 22px;\r\n    overflow: hidden;\r\n}\r\n\r\n.a-container:hover .catalog-aTag{\r\n    background-color:rgba(228,230,235,0.5);\r\n}\r\n\r\n/* .litem:active .a-container::before{\r\n    content: \"\";\r\n    position: absolute;\r\n    top:4px;\r\n    left: 0;\r\n    margin-top: 7px;\r\n    width: 4px;\r\n    height: 16px;\r\n    background-color: rgb(30,128,255);\r\n    border-radius: 0 4px 4px 0;\r\n\r\n} */\r\n/* .litem:visited .a-container::before{\r\n    content: \"\";\r\n    position: absolute;\r\n    top:4px;\r\n    left: 0;\r\n    margin-top: 7px;\r\n    width: 4px;\r\n    height: 16px;\r\n    background-color: rgb(30,128,255);\r\n    border-radius: 0 4px 4px 0;\r\n\r\n} */\r\n/* \r\n.litem.active .a-container::before{\r\n    content: \"\";\r\n    position: absolute;\r\n    top:4px;\r\n    left: 0;\r\n    margin-top: 7px;\r\n    width: 4px;\r\n    height: 16px;\r\n    background-color: rgb(30,128,255);\r\n    border-radius: 0 4px 4px 0;\r\n   \r\n\r\n} */\r\n\r\n.litem:active .catalog-aTag{\r\n    color:rgb(30,128,255) ;\r\n}\r\n.litem:visited .catalog-aTag{\r\n    color:rgb(30,128,255) ;\r\n}\r\n\r\n.litem.active .catalog-aTag{\r\n    color:rgb(30,128,255) ;\r\n}\r\n\r\n.pinglun{\r\n    background-color: white;\r\n    width: 755.920px;\r\n    height: 200px;\r\n    padding-left: 32.040px;\r\n    padding-right: 32.040px;\r\n    padding-bottom: 24px;\r\n    padding-top: 8px;\r\n    position: relative;\r\n    top:20px;\r\n  \r\n    \r\n}\r\n.pl_header{\r\n    color: rgb(37,41,51);\r\n    font-size: 18px;\r\n    font-weight: bolder;\r\n    line-height: 30px;\r\n    height: 30px;\r\n    width: 755.920px;\r\n    margin-bottom: 24px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.pl_img{\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    margin-right: 16px;\r\n    float: left;\r\n}\r\n.srk{\r\n    width: 588.562px;\r\n    height: 48px;\r\n    padding: 8px 12px;\r\n    box-sizing: border-box;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    min-height: 64px;\r\n    outline-style: none;\r\n    outline-color: rgb(37,41,51);\r\n\r\n}\r\n.input_box{\r\n    width: 700px;\r\n    height: 80px;\r\n    border: 1px rgb(242,243,245) solid;\r\n    background-attachment: scroll;\r\n    background-color:rgb(242,243,245) ;\r\n    border-radius: 4px;\r\n    color: rgb(51,51,51);\r\n    float: left;\r\n    padding: 8px 12px;\r\n    box-sizing: border-box;\r\n    overflow: hidden;\r\n}\r\n// .input{\r\n//     background-color: rgb(242,243,245);\r\n//     /* line-height: 22px; */\r\n//     font-size: 14px;\r\n//     position: relative;\r\n//     top:-32px;\r\n//     left: -8px;\r\n//     width: 700px;\r\n//     height: 80px;\r\n//     outline: none;\r\n//     min-height: 64px;\r\n//     color: #252933;\r\n//     word-spacing: 5px;\r\n// }\r\n\r\n#arrow-bottom{\r\n\twidth: 0;\r\n\theight:0;\r\n\tborder-top: 5px solid white; /* 下边框的长度|高,以及背景色 */  \r\n\tborder-left: 5px solid transparent;  /* 左边框的宽 */  \r\n\tborder-right: 5px solid transparent; /* 右边框的宽 */  \r\n\tposition:absolute;\r\n}\r\n.arrow-ul{\r\n\twidth:100px;\r\n\theight:100px;\r\n\tlist-style:none;\r\n\tpadding:0;\r\n\tmargin:0;\r\n\tposition:relative;\r\n\tz-index: 200;\r\n\ttop: 12px;\r\n\tleft:-100px;\r\n\tborder:2px solid lightgrey;\r\n\tbackground-color: white;\r\n\tdisplay: none;\r\n}\r\n\r\n#btn-bottom:hover{\r\n\tbackground-color: #416bf2;\r\n}\r\n\r\n.catelog_title{\r\n    width: 260px;\r\n    height: 24px;\r\n    padding: 15.996px 0;\r\n    margin: 0 20.004px;\r\n    border-bottom: 1px rgb(228,230,235) solid;\r\n    color: rgb(29,33,41);\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    line-height: 24px;\r\n    background-color: white;\r\n    float: right;\r\n    margin-bottom: 8px;\r\n}\r\n\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}